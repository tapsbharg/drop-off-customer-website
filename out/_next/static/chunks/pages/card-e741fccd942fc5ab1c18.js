(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[264],{1193:function(e,r,s){"use strict";var a=s(5893),c=s(4942),n=s(4300),d=s(7294),t=s(5333),l=s(6890),i=s(9501),o=s(4715),u=s(9249);function h(e,r){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),s.push.apply(s,a)}return s}function x(e){for(var r=1;r<arguments.length;r++){var s=null!=arguments[r]?arguments[r]:{};r%2?h(Object(s),!0).forEach((function(r){(0,c.Z)(e,r,s[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(s,r))}))}return e}r.Z=function(e){var r=(0,d.useState)(!1),s=r[0],c=r[1],h=(0,d.useState)([]),m=h[0],f=h[1],j=(0,d.useState)([]),p=(j[0],j[1]),N=(0,o.un)(),b=N.meta,v=N.getCardNumberProps,g=N.getExpiryDateProps,C=N.getCVCProps,_=function(e){c(e)};function w(){l.Z.getAllCard().then((function(r){f(r.data.cardListing),r.data.cardListing.map((function(r,s){1==r.defaultCard&&e.cardSelct(!0)}))})).catch((function(e){console.log(e)}))}(0,d.useEffect)((function(){w()}),[]);var y=i.Ry({cardName:i.Z_().required("Please enter card name"),cardNumber:i.nK().required("Please enter card number"),cardExpMonth:i.nK().required("Please enter exp. date"),cardExpYear:i.nK().required("Please enter exp. date"),cardCVC:i.nK().required("Please enter card CVV")}),E=(0,n.TA)({initialValues:{cardName:"",cardNumber:"",cardExpMonth:"",cardExpYear:"",cardCVC:""},validationSchema:y,onSubmit:function(r){var s;console.log("submit",r),"undefined"!=b.erroredInputs.cardNumber&&"undefined"!=b.erroredInputs.expiryDate&&"undefined"!=b.erroredInputs.cvc?(E.resetForm(),s=r,l.Z.addNewCard(s).then((function(r){u.Am.success(r.data.message),c(!1),w(),e.reload()})).catch((function(e){console.log(e)}))):(console.log(b.error),u.Am.error(b.error))}});return(0,a.jsxs)(a.Fragment,{children:[e.page&&(0,a.jsxs)("a",{className:"btn custom01",onClick:function(){return _(!0)},children:[" ",(0,a.jsx)("i",{className:"fas fa-plus"}),"  Add New Card "]}),(!e.page||"checkout"==e.page)&&(0,a.jsxs)("div",{className:"delivery-address bg-white rounded-3 p-3 mb-3 ".concat(e.selectClass?e.selectClass:""),children:[(0,a.jsx)("h6",{children:" Select Card "}),(0,a.jsx)("hr",{}),m.map((function(r,s){return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"address_group d-flex justify-content-between my-3 ".concat(r.defaultCard?" selectDefault":""),children:[(0,a.jsx)("div",{className:"location_img",children:(0,a.jsxs)("p",{children:[" ",(0,a.jsxs)("b",{children:[" xxxx-xxxx-xxxx-",r.cardLast4," "]})]})}),(0,a.jsxs)("div",{className:"location_content",children:[r.defaultCard&&(0,a.jsx)("i",{className:"setDefault",children:" Selected "}),!r.defaultCard&&(0,a.jsx)("a",{onClick:function(){return function(r){l.Z.setDefaultCard(r.cardId).then((function(s){u.Am.success(s.data.message),p(r),w(),e.cardSelct(!0)})).catch((function(e){console.log(e)}))}(r)},className:"setDefault",children:" Set As Default "})]})]}),(0,a.jsx)("hr",{})]},s)})),(0,a.jsxs)("a",{className:"but03",onClick:function(){return _(!0)},children:[" ",(0,a.jsx)("i",{className:"fas fa-plus"}),"  Add New Card "]})]}),(0,a.jsx)(t.Z,{show:s,onHide:function(){_(!1)},backdrop:"static",keyboard:!1,className:"modal-gray",centered:!0,children:(0,a.jsx)("div",{className:"add_new_card",children:(0,a.jsxs)("div",{className:"add_new_card_contant bg-white p-5 rounded-3",children:[(0,a.jsx)("i",{className:"fal fa-times-circle",onClick:function(){return _(!1)}}),(0,a.jsx)("h5",{children:" Add New Card "}),(0,a.jsxs)("form",{onSubmit:E.handleSubmit,children:[b.isTouched&&b.error&&(0,a.jsxs)("div",{className:"errorMsg text-center mb-1",children:["Error: ",b.error]}),(0,a.jsxs)("div",{className:"row bg-black p-4 rounded-3 mb-3",children:[(0,a.jsxs)("div",{className:"col-sm-12  mb-3",children:[(0,a.jsx)("input",x(x({type:"text"},E.getFieldProps("cardName")),{},{placeholder:"Card Holder's Name"})),E.touched.cardName&&E.errors.cardName?(0,a.jsx)("div",{className:"errorMsg",children:E.errors.cardName}):null]}),(0,a.jsxs)("div",{className:"col-sm-12 mb-3",children:[(0,a.jsx)("input",x(x({type:"text"},v({onChange:function(e){E.setFieldValue("cardNumber",e.target.value)}})),{},{placeholder:"Enter Card Number"})),E.touched.cardNumber&&E.errors.cardNumber?(0,a.jsx)("div",{className:"errorMsg",children:E.errors.cardNumber}):null]}),(0,a.jsxs)("div",{className:"col-sm-5  mb-3",children:[(0,a.jsx)("input",x(x({type:"text"},g({onChange:function(e){var r=e.target.value,s=(r=r.split(" / "))[0],a=r[1];E.setFieldValue("cardExpMonth",s),E.setFieldValue("cardExpYear",a)}})),{},{placeholder:"Month"})),E.touched.cardExpMonth&&E.errors.cardExpMonth?(0,a.jsx)("div",{className:"errorMsg",children:E.errors.cardExpMonth}):null]}),(0,a.jsx)("div",{className:"col-sm-4  mb-3"}),(0,a.jsxs)("div",{className:"col-sm-3  mb-3",children:[(0,a.jsx)("input",x(x({type:"text"},C({onChange:function(e){E.setFieldValue("cardCVC",e.target.value)}})),{},{placeholder:"CVV"})),E.touched.cardCVC&&E.errors.cardCVC?(0,a.jsx)("div",{className:"errorMsg",children:E.errors.cardCVC}):null]})]}),(0,a.jsx)("button",{className:"btn cus_btn custom01",children:" Continue "})]})]})})})]})}},8332:function(e,r,s){"use strict";s.d(r,{Z:function(){return i}});var a=s(5893),c=s(1163),n=s(7294),d=s(4651),t=s(1664);function l(e){var r=(0,d.useRouter)();function s(e){if(e==r.pathname)return"active"}return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"dashbord_opction",children:[(0,a.jsx)("i",{className:"far fa-bars"}),(0,a.jsxs)("ul",{children:[(0,a.jsx)("li",{className:s("/profile"),children:(0,a.jsx)(t.default,{href:"/profile",children:"Profile"})}),(0,a.jsx)("li",{className:s("/my-orders"),children:(0,a.jsx)(t.default,{href:"/my-orders",children:"My Orders"})}),(0,a.jsx)("li",{className:s("/addresses"),children:(0,a.jsx)(t.default,{href:"/addresses",children:"My Addresses"})}),(0,a.jsx)("li",{className:s("/card"),children:(0,a.jsx)(t.default,{href:"/card",children:"Card"})}),(0,a.jsx)("li",{className:s("/id-card"),children:(0,a.jsx)(t.default,{href:"/id-card",children:"ID"})}),(0,a.jsx)("li",{className:s("/referral"),children:(0,a.jsx)(t.default,{href:"/referral",children:"Refer & Earn"})}),(0,a.jsx)("li",{className:s("/help"),children:(0,a.jsx)(t.default,{href:"/help",children:"Help"})}),(0,a.jsx)("li",{className:s("/change-password"),children:(0,a.jsx)(t.default,{href:"/change-password",children:"Change Password"})}),(0,a.jsx)("li",{children:(0,a.jsx)(t.default,{href:"/",children:"Sign Out"})})]})]})})}var i=function(e){var r=(0,n.useState)(),s=r[0],d=r[1],t=(0,c.useRouter)();return(0,n.useEffect)((function(){d(e.props.auth),0==s&&t.push("/sign-in")}),[s]),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"cus_dashbord_outer py-5",children:(0,a.jsx)("div",{className:"container",children:(0,a.jsx)("div",{className:"cus_dashbord_inner",children:(0,a.jsxs)("div",{className:"customer_profile_outer d-flex flex-wrap ",children:[(0,a.jsx)("div",{className:"opction_left",children:(0,a.jsx)(l,{props:e})}),!s&&(0,a.jsx)("div",{className:"loadingSren",children:"Loading"}),s&&e.children]})})})})})}},805:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return i}});var a=s(5893),c=s(7294),n=s(5333),d=s(1193),t=s(8332),l=s(6890);function i(e){var r=(0,c.useState)(!1),s=r[0],i=r[1],o=(0,c.useState)([]),u=o[0],h=o[1],x=function(e){i(e)};function m(){l.Z.getAllCard().then((function(e){h(e.data.cardListing)})).catch((function(e){console.log(e)}))}return(0,c.useEffect)((function(){m()}),[e]),console.log(u),(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(t.Z,{props:e,children:[(0,a.jsx)("div",{className:"description_right",children:(0,a.jsxs)("div",{className:"id-outer",children:[(0,a.jsxs)("ul",{className:"d-flex flex-wrap justify-content-between align-items-center mb-4",children:[(0,a.jsx)("li",{children:(0,a.jsx)("a",{href:"#",children:" Card "})}),(0,a.jsx)("li",{children:(0,a.jsx)(d.Z,{page:"card",reload:function(){return m()}})})]}),(0,a.jsx)("div",{className:"row",children:u.map((function(e,r){return(0,a.jsx)("div",{className:"col-sm-6",children:(0,a.jsxs)("div",{className:"id_photo",children:[(0,a.jsxs)("div",{className:"cardboxRps",children:[(0,a.jsxs)("h3",{children:["XXXXX-XXXX-XXXX-",e.cardLast4]}),(0,a.jsxs)("div",{className:"carditpsbx",children:[(0,a.jsxs)("div",{className:"cardHldrName",children:[(0,a.jsx)("h4",{children:"Card Holder's Name"}),(0,a.jsx)("p",{children:e.cardName})]}),(0,a.jsxs)("div",{className:"cardCvvsrn",children:[(0,a.jsx)("h4",{children:"Expiry Date"}),(0,a.jsx)("p",{children:e.cardExpDetails})]})]})]}),(0,a.jsx)("a",{onClick:function(){return r=e.cardId,void l.Z.deleteCard(r).then((function(e){m()})).catch((function(e){console.log(e)}));var r},children:" Delete"})]})},r)}))})]})}),(0,a.jsx)(n.Z,{show:s,onHide:function(){x(!1)},backdrop:"static",keyboard:!1,className:"modal-gray",centered:!0,children:(0,a.jsx)("div",{className:"add_new_card",children:(0,a.jsxs)("div",{className:"add_new_card_contant bg-white p-5 rounded-3",children:[(0,a.jsx)("i",{className:"fal fa-times-circle",onClick:function(){return x(!1)}}),(0,a.jsx)("h5",{children:" Add New Card "}),(0,a.jsxs)("form",{className:" ",action:"",children:[(0,a.jsxs)("div",{className:"row bg-black p-4 rounded-3 mb-3",children:[(0,a.jsx)("div",{className:"col-sm-12 mb-3",children:(0,a.jsx)("input",{type:"text",placeholder:"Enter Card Number"})}),(0,a.jsx)("div",{className:"col-sm-7  mb-3",children:(0,a.jsx)("input",{type:"text",placeholder:"Card Holder's Name"})}),(0,a.jsx)("div",{className:"col-sm-5  mb-3",children:(0,a.jsx)("input",{type:"text",placeholder:"Expiry Date"})})]}),(0,a.jsx)("button",{className:"btn cus_btn custom01",onClick:function(){return x(!1)},children:" Continue "})]})]})})})]})})}},5081:function(e,r,s){(window.__NEXT_P=window.__NEXT_P||[]).push(["/card",function(){return s(805)}])}},function(e){e.O(0,[249,460,333,715,774,888,179],(function(){return r=5081,e(e.s=r);var r}));var r=e.O();_N_E=r}]);