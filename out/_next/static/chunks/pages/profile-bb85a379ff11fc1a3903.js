(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{8332:function(e,t,n){"use strict";n.d(t,{Z:function(){return c}});var r=n(5893),a=n(1163),l=n(7294),s=n(4651),o=n(1664);function i(e){var t=(0,s.useRouter)();function n(e){if(e==t.pathname)return"active"}return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)("div",{className:"dashbord_opction",children:[(0,r.jsx)("i",{className:"far fa-bars"}),(0,r.jsxs)("ul",{children:[(0,r.jsx)("li",{className:n("/profile"),children:(0,r.jsx)(o.default,{href:"/profile",children:"Profile"})}),(0,r.jsx)("li",{className:n("/my-orders"),children:(0,r.jsx)(o.default,{href:"/my-orders",children:"My Orders"})}),(0,r.jsx)("li",{className:n("/addresses"),children:(0,r.jsx)(o.default,{href:"/addresses",children:"My Addresses"})}),(0,r.jsx)("li",{className:n("/card"),children:(0,r.jsx)(o.default,{href:"/card",children:"Card"})}),(0,r.jsx)("li",{className:n("/id-card"),children:(0,r.jsx)(o.default,{href:"/id-card",children:"ID"})}),(0,r.jsx)("li",{className:n("/referral"),children:(0,r.jsx)(o.default,{href:"/referral",children:"Refer & Earn"})}),(0,r.jsx)("li",{className:n("/help"),children:(0,r.jsx)(o.default,{href:"/help",children:"Help"})}),(0,r.jsx)("li",{className:n("/change-password"),children:(0,r.jsx)(o.default,{href:"/change-password",children:"Change Password"})}),(0,r.jsx)("li",{children:(0,r.jsx)(o.default,{href:"/",children:"Sign Out"})})]})]})})}var c=function(e){var t=(0,l.useState)(),n=t[0],s=t[1],o=(0,a.useRouter)();return(0,l.useEffect)((function(){s(e.props.auth),0==n&&o.push("/sign-in")}),[n]),(0,r.jsx)(r.Fragment,{children:(0,r.jsx)("div",{className:"cus_dashbord_outer py-5",children:(0,r.jsx)("div",{className:"container",children:(0,r.jsx)("div",{className:"cus_dashbord_inner",children:(0,r.jsxs)("div",{className:"customer_profile_outer d-flex flex-wrap ",children:[(0,r.jsx)("div",{className:"opction_left",children:(0,r.jsx)(i,{props:e})}),!n&&(0,r.jsx)("div",{className:"loadingSren",children:"Loading"}),n&&e.children]})})})})})}},2310:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return p}});var r=n(5893),a=n(4942),l=n(4300),s=n(7294),o=n(8332),i=n(6890),c=n(9501),u=n(9249),d=n(8045);n(4629);function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){(0,a.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function p(e){var t=(0,s.useState)({}),n=t[0],a=t[1],m=(0,s.useState)(),p=(m[0],m[1]),h=(0,s.useState)(""),b=(h[0],h[1]);(0,s.useEffect)((function(){i.Z.getProfileData().then((function(e){a(e.data.data),e.data.data&&(v.setFieldValue("name",e.data.data.name),v.setFieldValue("email",e.data.data.email),v.setFieldValue("code",e.data.data.code),v.setFieldValue("phone",e.data.data.phone))})).catch((function(e){console.log(e)}))}),[]);var g=c.Ry({name:c.Z_().required("Please enter name"),email:c.Z_().email("Please enter valid email").required("Please enter email"),code:c.Z_().required("Please enter code"),phone:c.Z_().required("Please enter phone")}),v=(0,l.TA)({initialValues:{name:"",email:"",code:"",phone:""},validationSchema:g,onSubmit:function(e){var t;console.log("submit",e),t=e,i.Z.postProfileUpdate(t).then((function(e){u.Am.success(e.data.message)})).catch((function(e){u.Am.success(e),console.log(e)}))}});var j=(0,l.TA)({initialValues:{profileImage:{}},validationSchema:c.Ry({profileImage:c.nK().required("You need to attach banner image").test("fileSize","The image is too large",(function(e){return void 0!=e&&null!=e&&(e&&e.size<=2e6)})).test("type","Only the following formats are accepted: .jpeg, .jpg, .bmp, .png",(function(e){if(void 0==e||null==e)return!1;var t=e.type;return e&&("image/jpeg"===t||"image/bmp"===t||"image/png"===t)}))}),onSubmit:function(e){console.log("submit",e),(0,d._1)({title:"Are you sure to update profile image",buttons:[{label:"Confirm",onClick:function(){!function(e){var t=new FormData;t.append("coverImage",e.profileImage),i.Z.postUpload(t).then((function(e){var t={profileImage:e.data.data._id};i.Z.postProfileImage(t).then((function(e){u.Am.success(e.data.message)})).catch((function(e){u.Am.success(e),console.log(e)}))})).catch((function(e){u.Am.success(e),console.log(e)}))}(e)}},{label:"Cancel"}]})}});return(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(o.Z,{props:e,children:[(0,r.jsx)(u.Ix,{}),(0,r.jsx)("div",{className:"description_right",children:(0,r.jsxs)("div",{className:"profile_outer",children:[(0,r.jsx)("div",{className:"d-flex flex-wrap justify-content-between align-items-center mb-4",children:(0,r.jsx)("h6",{children:"Profile "})}),(0,r.jsx)("form",{onSubmit:j.handleSubmit,children:(0,r.jsx)("div",{className:"profile_img d-flex flex-wrap align-items-center justify-content-center bg-light01 p-5 rounded-3",children:(0,r.jsxs)("div",{className:"profilIm",children:[!n&&(0,r.jsx)("img",{src:"assets/images/web/earning.png",alt:""}),n&&(0,r.jsx)("img",{src:n.image?n.image.path:"assets/images/web/earning.png",alt:""}),(0,r.jsx)("div",{className:"proillUPload",children:(0,r.jsxs)("label",{children:[(0,r.jsx)("input",{type:"file",name:"profileImage",onChange:function(e){return function(e){var t=e.target.files[0];if(void 0!=t||null!=t){b(e.target.files[0]),j.setFieldValue("profileImage",e.target.files[0]);var n=new FileReader;n.readAsDataURL(e.target.files[0]),n.onload=function(){p(n.result),j.handleSubmit()}}}(e)}}),(0,r.jsx)("i",{className:"far fa-camera"})]})})]})})}),(0,r.jsx)("div",{className:"comman_from",children:(0,r.jsxs)("form",{onSubmit:v.handleSubmit,children:[(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"form-label",children:"  name"}),(0,r.jsx)("input",f(f({type:"text"},v.getFieldProps("name")),{},{className:"form-control",id:"",placeholder:"Enter  Name"})),v.touched.name&&v.errors.name?(0,r.jsx)("div",{className:"errorMsg",children:v.errors.name}):null]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"form-label",children:"Email"}),(0,r.jsx)("input",f(f({type:"email"},v.getFieldProps("email")),{},{className:"form-control",id:"",placeholder:"Enter Your Email"})),v.touched.email&&v.errors.email?(0,r.jsx)("div",{className:"errorMsg",children:v.errors.email}):null]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"form-label",children:"Code"}),(0,r.jsx)("input",f(f({type:"tel"},v.getFieldProps("code")),{},{className:"form-control",id:"",placeholder:"Enter Your Mobile Number"})),v.touched.code&&v.errors.code?(0,r.jsx)("div",{className:"errorMsg",children:v.errors.code}):null]}),(0,r.jsxs)("div",{className:"mb-3",children:[(0,r.jsx)("label",{className:"form-label",children:"Mobile Number"}),(0,r.jsx)("input",f(f({type:"number"},v.getFieldProps("phone")),{},{className:"form-control",id:"",placeholder:"Enter Your Mobile Number"})),v.touched.phone&&v.errors.phone?(0,r.jsx)("div",{className:"errorMsg",children:v.errors.phone}):null]}),(0,r.jsx)("button",{type:"submit",className:"btn cus_btn custom01",children:" Save "})]})})]})})]})})}},3962:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return n(2310)}])},4629:function(){},8045:function(e,t,n){"use strict";var r,a,l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t._1=function(e){document.body.classList.add("react-confirm-alert-body-element"),function(){if(document.getElementById("react-confirm-alert-firm-svg"))return;var e="http://www.w3.org/2000/svg",t=document.createElementNS(e,"feGaussianBlur");t.setAttribute("stdDeviation","0.3");var n=document.createElementNS(e,"filter");n.setAttribute("id","gaussian-blur"),n.appendChild(t);var r=document.createElementNS(e,"svg");r.setAttribute("id","react-confirm-alert-firm-svg"),r.setAttribute("class","react-confirm-alert-svg"),r.appendChild(n),document.body.appendChild(r)}(),function(e){var t=document.getElementById("react-confirm-alert");t||(document.body.children[0].classList.add("react-confirm-alert-blur"),(t=document.createElement("div")).id="react-confirm-alert",document.body.appendChild(t)),(0,c.render)(o.default.createElement(f,e),t)}(e)};var s=n(7294),o=u(s),i=u(n(5697)),c=n(3935);function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}var f=(a=r=function(e){function t(){var e,n,r;d(this,t);for(var a=arguments.length,l=Array(a),s=0;s<a;s++)l[s]=arguments[s];return n=r=m(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),r.handleClickButton=function(e){e.onClick&&e.onClick(),r.close()},r.handleClickOverlay=function(e){var t=r.props,n=t.closeOnClickOutside,a=t.onClickOutside,l=e.target===r.overlay;n&&l&&(a(),r.close())},r.close=function(){var e=r.props.afterClose;b(),h(),p(e)},r.keyboardClose=function(e){var t=r.props,n=t.closeOnEscape,a=t.onKeypressEscape,l=27===e.keyCode;n&&l&&(a(e),r.close())},r.componentDidMount=function(){document.addEventListener("keydown",r.keyboardClose,!1)},r.componentWillUnmount=function(){document.removeEventListener("keydown",r.keyboardClose,!1),r.props.willUnmount()},r.renderCustomUI=function(){var e=r.props,t=e.title,n=e.message,a=e.buttons;return(0,e.customUI)({title:t,message:n,buttons:a,onClose:r.close})},m(r,n)}return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),l(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.message,a=t.buttons,l=t.childrenElement,s=t.customUI,i=t.overlayClassName;return o.default.createElement("div",{className:"react-confirm-alert-overlay "+i,ref:function(t){return e.overlay=t},onClick:this.handleClickOverlay},o.default.createElement("div",{className:"react-confirm-alert"},s?this.renderCustomUI():o.default.createElement("div",{className:"react-confirm-alert-body"},n&&o.default.createElement("h1",null,n),r,l(),o.default.createElement("div",{className:"react-confirm-alert-button-group"},a.map((function(t,n){return o.default.createElement("button",{key:n,onClick:function(){return e.handleClickButton(t)},className:t.className},t.label)}))))))}}]),t}(s.Component),r.propTypes={title:i.default.string,message:i.default.string,buttons:i.default.array.isRequired,childrenElement:i.default.func,customUI:i.default.func,closeOnClickOutside:i.default.bool,closeOnEscape:i.default.bool,willUnmount:i.default.func,afterClose:i.default.func,onClickOutside:i.default.func,onKeypressEscape:i.default.func,overlayClassName:i.default.string},r.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},a);function p(e){var t=document.getElementById("react-confirm-alert-firm-svg");t&&t.parentNode.removeChild(t),document.body.children[0].classList.remove("react-confirm-alert-blur"),e()}function h(){var e=document.getElementById("react-confirm-alert");e&&((0,c.unmountComponentAtNode)(e),e.parentNode.removeChild(e))}function b(){document.body.classList.remove("react-confirm-alert-body-element")}}},function(e){e.O(0,[249,774,888,179],(function(){return t=3962,e(e.s=t);var t}));var t=e.O();_N_E=t}]);